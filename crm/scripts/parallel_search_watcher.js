(function(){const e=6e4,t=200,n=Date.now();let o=!1;function r(e){let t=!1;return function n(o){if(o.shadowRoot&&n(o.shadowRoot),o.querySelectorAll){const r=o.querySelectorAll("span");r.forEach(n=>{/clients\s+trouvés/i.test(n.textContent.trim())&&(t=!0,e&&(e.found=!0,e.element=n))})}o.childNodes&&o.childNodes.forEach(n)}(document),t}function c(e){const t=new Set;return function n(o){if(o.shadowRoot&&n(o.shadowRoot),o.querySelectorAll){const r=o.querySelectorAll(".listResults .result");r.forEach(e=>t.add(e))}o.childNodes&&o.childNodes.forEach(n)}(document),t.size>0}const l={noResult:{name:"NO_RESULT",keywords:["0 résultat correspond à votre recherche","0 resultat correspond a votre recherche"],check:function(){const e=document.body.textContent.toLowerCase();for(const t of this.keywords)if(e.includes(t.toLowerCase()))return{found:!0,element:document.body};return{found:!1}}},interlocuteur:{name:"INTERLOCUTEUR_FOUND",selectors:["#interlocuteur","button#interlocuteur","a#interlocuteur"],check:function(){for(const e of this.selectors){const t=document.querySelector(e);if(t&&null!==t.offsetParent)return{found:!0,element:t}}return{found:!1}}},prefetch:{name:"PREFETCH_READY",check:function(){const e={found:!1,element:null};if(!r(e))return{found:!1};if(!c())return{found:!1};return e}}};function s(e,t,n){if(o)return;o=!0;prompt("RESULT_READY",JSON.stringify({status:e,elapsed:t,timestamp:Date.now(),hasResult:n}))}function u(){if(o)return;const r=Date.now()-n;if(r>e)return s("TIMEOUT",r,!1);if(l.noResult.check().found)return s("NO_RESULT",r,!1);if(l.interlocuteur.check().found)return s("INTERLOCUTEUR_FOUND",r,!0);if(l.prefetch.check().found)return s("PREFETCH_READY",r,!0);setTimeout(u,t)}new MutationObserver(()=>{o||u()}).observe(document.body,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["data-loaded","class","style"]}),u()})();
